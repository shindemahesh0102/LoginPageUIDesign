var x=Object.defineProperty,C=Object.defineProperties;var I=Object.getOwnPropertyDescriptors;var h=Object.getOwnPropertySymbols;var W=Object.prototype.hasOwnProperty,k=Object.prototype.propertyIsEnumerable;var u=(e,t,a)=>t in e?x(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a,y=(e,t)=>{for(var a in t||(t={}))W.call(t,a)&&u(e,a,t[a]);if(h)for(var a of h(t))k.call(t,a)&&u(e,a,t[a]);return e},w=(e,t)=>C(e,I(t));import{u as c}from"./useWindowDimensions-da63f265.mjs";import{u as G}from"./useContainerPixelWidth-5aa56ad1.mjs";import{_ as v,r as p,o as r,c as S,b as d,a as f,f as n,w as E,g as s,n as _,i as V,K as B,e as L}from"./bootstrap-5b74a21d.mjs";const P={props:{images:{type:Array,required:!0},imageUrl:{type:String,required:!0},credit:{type:String},alt:{type:String},caption:{type:String},imageShaping:{type:String,default:"crop"},percentOfContentArea:{type:Number},fullWidth:{type:Boolean,default:!0}},data(){return{largeVisible:!1,galleryIndex:0}},computed:{windowWidth(){return c().value.windowWidth},fitParam(){switch(this.imageShaping){case"clip":return"&fit=clip";case"max":return"&fit=max";case"fill-blur":return"&fit=fill&fill=blur";case"crop":default:return"&fit=crop"}},imageUrlSmall(){const{width:e,height:t}=this.getImageDimensions(G(this.percentOfContentArea));return`${this.imageUrl.split("?")[0]}?auto=format,compress&w=${e}&h=${t}`+this.fitParam},imageUrlLarge(){const e=c().value.windowWidth,t=c().value.windowHeight;return`${this.images[this.galleryIndex].src.split("?")[0]}?auto=format,compress&fit=${this.imageShaping}&height=${.9*t}&width=${.9*e}`},showGalleryControls(){return this.images.length>1&&this.insertGallery},insertGallery(){var e;return(e=this.$ss.general.insertGallery)!=null?e:!0}},methods:{getImageDimensions(e){const t={width:1300};return e<=500?t.width=500:e<=1050?t.width=1050:e<=1500&&(t.width=1500),w(y({},t),{height:Math.round(t.width/1.78)})},showEnlarged(e){this.largeVisible=!0},hideEnlarged(e){this.largeVisible=!1},incrementGalleryIndex(e){e.stopPropagation(),this.galleryIndex=(this.galleryIndex+1)%this.images.length},decrementGalleryIndex(e){e.stopPropagation(),this.galleryIndex=(this.galleryIndex-1+this.images.length)%this.images.length}}},U=B(" View Image Gallery "),z={class:"large-image-wrapper"};function N(e,t,a,j,l,i){const g=p("LazyWebImage"),b=p("LazyWebButtonElement"),m=L;return r(),S("div",{class:"ebm-content-teaser-image",style:_({width:a.fullWidth?"100%":"auto"})},[d("span",{class:"ebm-content-teaser-image__small",onClick:t[0]||(t[0]=(...o)=>i.showEnlarged&&i.showEnlarged(...o))},[f(g,{image:i.imageUrlSmall,credit:a.credit,caption:a.caption,alt:a.alt,"credit-position":"top"},null,8,["image","credit","caption","alt"])]),i.showGalleryControls?(r(),n(b,{key:0,color:e.$ss.baseStyles.primaryColor,class:"view-gallery-btn",onOnClick:i.showEnlarged},{default:E(()=>[U]),_:1},8,["color","onOnClick"])):s("",!0),l.largeVisible?(r(),n(V,{key:1,to:"body"},[d("div",{class:"ebm-content-teaser-image__large",style:_({justifyContent:i.showGalleryControls?"space-between":"center"}),onClick:t[1]||(t[1]=(...o)=>i.hideEnlarged&&i.hideEnlarged(...o))},[i.showGalleryControls?(r(),n(m,{key:0,icon:"mdi:arrow-left",width:36,"icon-color":"white",class:"arrow-icon",onClick:i.decrementGalleryIndex},null,8,["onClick"])):s("",!0),d("div",z,[f(g,{image:i.imageUrlLarge,credit:a.images[l.galleryIndex].credit,caption:a.images[l.galleryIndex].caption,alt:a.images[l.galleryIndex].alt,"caption-alignment":"center","max-caption-width":"500px","credit-position":"top"},null,8,["image","credit","caption","alt"])]),i.showGalleryControls?(r(),n(m,{key:1,icon:"mdi:arrow-right",width:36,"icon-color":"white",class:"arrow-icon",onClick:i.incrementGalleryIndex},null,8,["onClick"])):s("",!0)],4)])):s("",!0)],4)}var H=v(P,[["render",N],["__scopeId","data-v-05efa908"]]);export{H as default};
